<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>1. What is GGIR</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>







<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">1. What is GGIR</h1>



<div id="a-brief-overview" class="section level2">
<h2>A brief overview</h2>
<p><a href="https://CRAN.R-project.org/package=GGIR">GGIR</a> is an
R-package primarily designed to process multi-day
<strong><em>raw</em></strong> accelerometer data for physical activity,
sleep, and circadian rhythm research. The term
<strong><em>raw</em></strong> refers to data being expressed in
m/s<sup>2</sup> or gravitational acceleration as opposed to the previous
generation accelerometers which stored data in accelerometer brand
specific units. Despite the focus on the raw data, GGIR also offers
functionality to process previous generation accelerometer data. The
signal processing for raw data includes automatic calibration to
gravity, detection of abnormally high values, imputation of raw-level
time gaps (only for specific sensor brands), and calculation of
orientation angle and average magnitude acceleration based on a variety
of metrics. Next, the signal processing for both raw and
previous-generation data continue with the detection of non-wear and
epoch level imputation. Finally, GGIR uses all this information to
describe the data at multiple time resolutions on data quality and data
summary metrics that could be interpreted as estimates of physical
activity, inactivity, sleep, and circadian rhythm. The time resolutions
of GGIR output are:</p>
<ul>
<li><strong>Per recording</strong>, which typically matches to one
participant ID.</li>
<li><strong>Per sequence of recordings</strong> with matching
participant IDs which are optionally appended. For details on how to use
this see documentation on parameter <code>maxRecordingInterval</code>
and documentation how to use parameters as explained further down.</li>
<li><strong>Calendar day</strong> with option to specify the day border
timing with midnight as default.</li>
<li><strong>Night</strong> defined from noon-noon, unless the person
woke up after noon which is when the sleep algorithm will re-focus on
the window 6pm-6pm.</li>
<li><strong>Day segment</strong>, which can be defined via code to
indicate timing of the segments within a day standardised for all
recordings and days in a dataset or via diary file where the segment
definition is allowed to vary per recording and per day.</li>
<li><strong>Window between Waking-up to Waking-up</strong> the following
day.</li>
<li><strong>Window between Sleep onset to sleep onset</strong> the
following day.</li>
<li><strong>Epoch by epoch time series</strong>, where an epoch length
is set by the user at for example 5 seconds.</li>
</ul>
</div>
<div id="key-strengths" class="section level2">
<h2>Key strengths</h2>
<ol style="list-style-type: decimal">
<li>GGIR has a permissive open-source software license to maximize
re-use and collaboration.</li>
<li>GGIR is applicable to data from multiple sensor brands and file
formats.</li>
<li>GGIR facilitates sleep, physical activity, and circadian rhythm
research.</li>
<li>GGIR has extensive quantitative output designed for use in
quantitative research.</li>
<li>GGIR is designed to be computationally efficient such as the option
to store and re-use intermediate milestone data and the option to
process multiple files in parallel on the same computer as discussed in
Chapter 2.</li>
<li>GGIR is designed to be accessible for new users without R or
programming experience such as the fact that GGIR requires only one
function call and comes with elaborate open-access documentation.
Additionally, paid training courses are offered to maximize the
opportunity for users to learn about GGIR and for us to learn from
users.</li>
<li>GGIR has had over a <a href="https://github.com/wadpac/GGIR/graphs/contributors">dozen code
contributors</a>.</li>
<li>GGIR has been available on the CRAN archive, meaning that it meets
CRAN standards and that each release has gone through a series of
automated checks.</li>
<li>We have public email list (google group) for users to reach out to
each other and the maintainers.</li>
<li>Over <a href="https://github.com/wadpac/GGIR/wiki/Publication-list">hundreds of
publications</a> have used GGIR, which has been a powerful way to
identify problems and improve the code and it has provided us with a
wide range of reference values.</li>
</ol>
</div>
<div id="history" class="section level2">
<h2>History</h2>
<p>An elaborate reflection on GGIR’s first 10 years of existence can be
found in <a href="https://www.accelting.com/updates/10th-anniversary-of-ggir/">this
blog post</a>. In short, GGIR evolved from a series of R scripts used in
research around 2010-2012 to a first release in 2013. A key factor in
the growth of GGIR has been its adoption by the research community and
the willingness of a variety of researchers to invest in GGIR either in
terms of time investment or financially. GGIR would not be what it is
without all their efforts.</p>
</div>
<div id="philosophy-behind-ggir" class="section level2">
<h2>Philosophy behind GGIR</h2>
<div id="flexible-and-accessible" class="section level3">
<h3>Flexible and accessible</h3>
<p>The research field is highly heterogeneous in: the choice of sensor
brand,, data format, the study protocols used, and the research
questions it tries to answer. At the same time many within the field
lack the time or skills to write their own custom data processing
software. GGIR aims to be flexible to handle all these different
scenarios and at the same time remain accessible to those who lack time
or skills to write software. Further, we hope GGIR is of use to those
without the financial resources for commercial software, although we
would like stress that we are not a charity and depend on paid or unpaid
voluntary efforts from contributors.</p>
</div>
<div id="algorithm-design" class="section level3">
<h3>Algorithm design</h3>
<p>The philosophy behind the algorithms as implemented in GGIR is that
biological explainable (heuristic) approaches to data analyses are
preferably over purely data-driven approaches, unless there is no other
way. The idea is that to advance knowledge in this field of research it
is essential to have an understanding of the causal relation between the
phenomena being observed (e.g. body movement), the way an (acceleration)
sensor works, what we do with the data produced, and how we interpret
the data. In contrast, data-driven methods look by design for optimal
correlation with data and are not or much less concerned with such
causal links. Identical to how correlation is not necessarily equal to
causation in health research, it can also confound the process of
measurement. Some examples: We may be able to capture the differences in
acceleration that correlate with different activity types or different
levels of energy expenditure but that does not mean that we actually
measure the activity type or the energy expenditure level. Ignoring such
aspects can easily lead to overestimating the value of accelerometers to
measure those constructs and to underestimate the value of an
accelerometer to capture acceleration as a useful measure of behaviour
if appropriately used and interpreted.</p>
<p>A second problem with data-driven methods is that they heavily depend
on the availability of reliable criterion methods. It is argued that
such reliable criterion methods do not exist:</p>
<ol style="list-style-type: decimal">
<li>Indirect calorimetry and the indicators of energy metabolism that
can be derived from it are unable to account for the activity type
specific role of body weight on energy metabolism. This makes it
impossible to make a standardised comparison of the energy cost of
different activity types across individuals that differ in body weight.
See also reflections in <a href="https://www.accelting.com/updates/why-does-ggir-facilitate-cut-points/">this
blog post</a>.</li>
<li>Polysomnography offers a physiological definition of sleep that is
impossible to capture with a movement sensor forcing us to simplify our
definition of ‘sleep’ towards a definition a movement sensor can
capture, by which ‘validation’ with polysomnography becomes somewhat
meaningless as we already know that we are not measuring the same
construct anymore.</li>
<li>Activity types are ambiguous to define given the high number of ways
they can be performed. This introduces a fundamental level of
uncertainty about the robustness of models outside the datasets and
context they were developed in.</li>
</ol>
<p>As a result, it is essential to put strong emphasis on algorithms
that have descriptive value on their own regardless of whether they
offer a high correlation with supposed criterion methods.</p>
</div>
<div id="permissive-open-source-license" class="section level3">
<h3>Permissive Open-source license</h3>
<p>It may sound obvious to some that research software is open-source,
but in the fields of physical activity and sleep research this is far
from the accepted approach. GGIR is one of the very few research tools
in this field that has a permissive license aimed to maximize its
potential for re-use and collaboration.</p>
</div>
</div>
<div id="documentation-structure-and-origin" class="section level2">
<h2>Documentation structure and origin</h2>
<p>We have structured the chapters in line with the GGIR training course
we have been organising in recent years. The documentation that existed
before was a collection of ad-hoc written paragraphs, that lacked a
clear overarching structure and narrative. As a result, it was difficult
to use the documentation in the training course. Further, we also wanted
to provide a good level of documentation for those who do not follow the
course or want to refresh their understanding of GGIR.</p>
<p>The documentation is mainly written in a narrative style where we
have tried to explain both the theory and practise of all GGIR
functionalities. Everything you need to type in your R script is
<code>highlighted like this</code>.</p>
<p>This is not intended as an academic review: We only cite publications
to clarify the origin of algorithms and we only discuss what is in
GGIR.</p>
<p>Finally, the first version of this documentation was sponsored by
Accelting with the commitment that this will remain available as free
open-access documentation. However, things like this are much easier to
maintain as a community: We would be grateful for your help to improve
the documentation either by giving feedback, pull requests (for those
who know how to do it), or financially.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
