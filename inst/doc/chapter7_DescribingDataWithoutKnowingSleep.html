<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>7. Describing the Data Without Knowing Sleep</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>







<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">7. Describing the Data Without Knowing
Sleep</h1>



<p>With the metric values imputed in the previous chapter, GGIR part 2
offers a first descriptive analysis of the data. Although we will have
to wait till later GGIR parts (chapters) to see the segmentation of days
in waking and sleep hours, there is already enough that can be
quantified at this point. In this chapter we focus on descriptives of
the data that are informative even without the knowledge on when the
participant was sleeping or awake.</p>
<div id="data-quality-indicators" class="section level2">
<h2>Data quality indicators</h2>
<p>GGIR part 2 summarises all the data quality checks done in the
previous four chapters, ranging from a report on the successfulness of
the auto-calibration procedure to the number of valid days. In this way,
GGIR part 2 is an ideal place to start for data quality assurance.</p>
</div>
<div id="basic-descriptives" class="section level2">
<h2>Basic descriptives</h2>
<p>Descriptive variables are calculated and reported for valid days
only, where the criteria for valid day is defined by parameter
<code>includedaycrit</code>.</p>
<div id="average-acceleration" class="section level3">
<h3>Average acceleration</h3>
<p>Average acceleration is known to be correlated with the
activity-related energy expenditure. GGIR part 2 provide two types of
average acceleration:</p>
<ul>
<li><p>Average per day, only stored when the day was considered valid.
Note that this descriptive and most other descriptives are also stored
by GGIR as averages across all days, weekend days or weekday, which we
will discuss in more detail.</p></li>
<li><p>Weighted average of all valid data points in the recording,
weighted by timing in the day of all valid epochs, regardless of whether
they come from days that as a whole are classified as valid or
not.</p></li>
</ul>
</div>
<div id="acceleration-distribution" class="section level3">
<h3>Acceleration distribution</h3>
<p>To get a more detailed description of the data looking at
acceleration value distribution can be informative, which we GGIR
facilitates in two ways :</p>
<ol style="list-style-type: decimal">
<li><p>By specifying the quantiles of the distribution with parameter
<code>qlevels</code>, which are fed to build-in R function
<code>quantile</code> and give us the metric values corresponding to
such quantiles (a quantile multiple by 100 is the same as a
percentile).</p></li>
<li><p>By describing time spent in acceleration ranges, which are
defined by parameter <code>ilevels</code> .</p></li>
</ol>
<p>In the physical activity literature the distribution of acceleration
values is often referred to as intensity distribution.</p>
</div>
</div>
<div id="derived-descriptives" class="section level2">
<h2>Derived descriptives</h2>
<div id="sets-of-quantiles-mx-metrics-by-rowlands-et-al." class="section level3">
<h3>Sets of quantiles (MX metrics by <a href="https://pubmed.ncbi.nlm.nih.gov/29360664/">Rowlands et
al.</a>)</h3>
<p>The quantiles as discussed above can be used to describe the
accelerations that participants exceed in their most active “X”
accumulated minutes in a day. In the specific approach as proposed by <a href="https://pubmed.ncbi.nlm.nih.gov/31808014/">Rowlands et al.</a>
these quantiles are referred to as the <strong>MX metrics</strong>. The
MX metrics should not be confused with the most active continuous X
hours, e.g. M10, as used in circadian rhythm research that also can be
derived with GGIR (see parameter <code>winhr</code>).</p>
<p>To use the MX metrics as proposed by Rowlands et al., specify the
durations of the 24h day that you wish to filter out the accelerations
for. For example, to generate the minimum acceleration value for the
most active 30 minutes, you can call <code>qlevels = (1410/1440)</code>,
which will filter out the lowest 1410 minutes of the day. This can also
be used as a nested term to generate multiple metrics, for example to
call M60, M30 and M10, you can use the following parameter:</p>
<p><code>qlevels = c(c(1380/1440), c(1410/1440), c(1430/1440))</code>.</p>
<p>Note: if parameter <code>qwindow</code> has values less than 24 h,
e.g. the school day (e.g. <a href="https://pubmed.ncbi.nlm.nih.gov/31593604/">Fairclough et al
2020</a>), the denominator should be changed from 1440 (24h) to the new
<code>qwindow</code> window length, e.g. if an 8-hour window is used
then the denominator would be 480 rather than 1440 and the numerator
would be 480 minus for example 60, 30, 10 or 5.</p>
<p>The output in the part 2 summary files will refer to this as a
percentile of the day. Thus, for a 24-h day, M30 will appear as
“p97.91666_ENMO_mg_0.24hr”. To create the radar plots of these MX
metrics as first described by <a href="https://pubmed.ncbi.nlm.nih.gov/31808014/">Rowlands et al.</a>,
this <a href="https://github.com/Maylor8/RadarPlotGenerator">GitHub
repository</a> provides the R code and detailed instructions on how to
make the radar plots using your own data.</p>
</div>
<div id="intensity-gradient" class="section level3">
<h3>Intensity gradient</h3>
<p>If we plot the time spent in equally spaced acceleration ranges we
would end up with an asymptotic-shaped curve, indicating little time
spent at high intensities (acceleration levels) and much time spent at
low intensities. The shape of the distribution may be informative but is
hard to quantify with single number in its standard form. Therefore, a
new concept called the intensity gradient was proposed by <a href="https://pubmed.ncbi.nlm.nih.gov/29360664/">Rowlands and
colleagues</a>.</p>
<p>The intensity gradient defines the slope of the log-transformed axes
in the distribution. More specifically, we calculate the time
accumulated in incremental acceleration bins (bin size = 25 m<em>g</em>)
but also keep track of the mid-point of each intensity bin, e.g. 62.5
m<em>g</em> for the bin ranging from 50 to 75 mg. Both the mid-point
acceleration of a bin expressed in m<em>g</em> and the time spent in a
bin expressed in minutes are then log-transformed. The
log-transformation is expected to change the asymptotic-shaped curve
into a straight line. Subsequently, a linear regression is fitted
through these data points. The slope of this regression line represents
the intensity gradient. Further, we calculate the correlation
coefficient for the data points to help verify the degree to which they
form a straight line.</p>
<p>The intensity gradient is not calculated by default. To include this
metric in the part 2 output, set <code>iglevels = TRUE</code>, which
will ensure that the algorithm is used.</p>
<p>Further, if you want to do more methodological research on this, you
can use this parameter to define alternative acceleration bins ,
e.g. for using bins of 20 instead of 25 mg
<code>iglevels = c(seq(0, 4000, by = 20), 8000)</code>.</p>
</div>
</div>
<div id="key-arguments" class="section level2">
<h2>Key arguments</h2>
<ul>
<li><p><code>includedaycrit</code></p></li>
<li><p><code>ilevels</code></p></li>
<li><p><code>qlevels</code></p></li>
<li><p><code>iglevels</code></p></li>
<li><p><code>qwindow</code></p></li>
<li><p><code>do.report</code></p></li>
</ul>
</div>
<div id="related-output" class="section level2">
<h2>Related output</h2>
<p>GGIR part 2 generates three csv reports: part2_daysummary.csv,
part2_summary.csv, and data_quality_report.csv. As
data_quality_report.csv was discussed in chapter 3 we will focus here
only on the first two reports.</p>
<p>The variables in part2_summary.csv are the recording level aggregates
of the variables in part2_daysummary.csv. Here, variable names starting
with the “AD_” refer to average across all days, “WD” refers to the
average across weekdays, “WE” refers to the average across weekend days,
“WWE” refers to weighted weekend days to ensure both weekend days
contribute equally, “WWD” refers to weighted weekdays to ensure all
weekdays contribute equally.</p>
<p>Further, GGIR part 2 generates a report named
part2_daysummary_longformat.csv, which is generated when GGIR is used
for day segment analysis, see documentation for parameter
<code>qwindow</code>. This report contains the exact same information as
part2_daysummary.csv, yet in long format. In
part2_daysummary_longformat.csv, each row represents one segment from
one day in one recording, while in part2_daysummary.csv, each row
contains one day in one recording and the segments of the day are
organized in different columns.</p>
<div id="descriptive-variables" class="section level3">
<h3>Descriptive variables</h3>
<table>
<caption>To clarify that <code>b</code> refers to both part2_summary.csv
and part2_daysummary.csv, <code>r</code> refers to part2_summary.csv
only.</caption>
<colgroup>
<col width="27%" />
<col width="47%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th>(Part of) variable name</th>
<th>Description</th>
<th>Report(s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>mean_ENMO_mg_0-24hr</td>
<td>average acceleration defined by metric ENMO for the full day</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ENMO_fullRecordingMean</td>
<td>Weighted average over acceleration across recording</td>
<td><code>r</code></td>
</tr>
<tr class="odd">
<td>p20_ENMO_mg_0-24h</td>
<td>20th percentile based on the full day</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>p20_ENMO_mg_0-24h_fullRecording</td>
<td>20th percentile based on the weighted average day from the full
recording</td>
<td><code>r</code></td>
</tr>
<tr class="odd">
<td>[0,50)_ENMO_mg_0-24hr</td>
<td>time spent in minutes between 0 and 50 m_g_ acceleration defined by
metric ENMO for the full day. Square bracket means that the value itself
is included, round bracket indicated that value itself is not
included</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ig_gradient_ENMO_0-24hr</td>
<td>Gradient for the intensity gradient</td>
<td><code>b</code></td>
</tr>
<tr class="odd">
<td>ig_intercept_ENMO_0-24hr</td>
<td>Intercept for the intensity gradient</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ig_rsquared_ENMO_0-24hr</td>
<td>R-squared for the intensity gradient</td>
<td><code>b</code></td>
</tr>
</tbody>
</table>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
